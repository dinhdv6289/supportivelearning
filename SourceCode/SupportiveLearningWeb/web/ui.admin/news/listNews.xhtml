<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.prime.com.tr/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:form>
        <p:dataTable id="datatable_news"
                     var="news"
                     value="#{newsManagedBean.listNews}"
                     selection="#{newsManagedBean.selectedNews}"
                     selectionMode="single"
                     paginator="true"
                     rows="10">
            <f:facet name="header">
                <p:commandButton ajax="false"
                                 value="Update"
                                 action="#{newsManagedBean.onRequestUpdateNews(true)}"   >
                </p:commandButton>
                <p:commandButton value="Delete" image="ui-icon ui-icon-search"
                                 update="form:display" oncomplete="confirmation.show()">
                </p:commandButton>
            </f:facet>

            <p:column>
                <f:facet name="header">
                    <h:outputText value="Title" />
                </f:facet>
                <h:outputText value="#{news.title}" />
            </p:column>

            <p:column>
                <f:facet name="header">
                    <h:outputText value="Picture"/>
                </f:facet>
                <p:graphicImage value="../#{news.picture}" width="70px" height="70px" />
            </p:column>

            <p:column>
                <f:facet name="header">
                    <h:outputText value="SubContent:" />
                </f:facet>
                <h:outputText value="#{news.subContent}" />
            </p:column>

            <p:column>
                <f:facet name="header">
                    <h:outputText value="DateCreate" />
                </f:facet>
                <h:outputText value="#{news.dateCreate}" />
            </p:column>
        </p:dataTable>
        <p:confirmDialog message="Are you sure want to delete?"
                         showEffect="bounce" hideEffect="explode"
                         header="Initiating destroy process" severity="alert" widgetVar="confirmation">
            <h:panelGrid id="display">
                <p:commandButton value="Yes Sure" update="messages,datatable_news" oncomplete="confirmation.hide()"
                                 action="#{newsManagedBean.deleteNews}"/>
                <p:commandButton value="Not Yet" onclick="confirmation.hide()" type="button" />
            </h:panelGrid>
        </p:confirmDialog>
    </h:form>
</ui:composition>