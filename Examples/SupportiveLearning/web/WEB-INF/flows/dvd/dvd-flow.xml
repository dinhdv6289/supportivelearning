<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">
	
    <var name="userDAO" class="supportiveLearning.dao.UserDAO"/>
    <input name="id"/>
    <on-start>
        <evaluate expression="userBean" result="flowScope.user" />
    </on-start>

    <view-state id="addUser" model="user">
        <transition on="save" to="newPage">
            <evaluate expression="userDAO.createUser(user)" result="flowScope.user" />
            <set name="flowScope.id" value="user.id" />
        </transition>
    </view-state>

    <view-state id="newPage">
        <transition on="book" to="main" />
    </view-state>

    <subflow-state id="main" subflow="main-flow">
        
    </subflow-state>

    <end-state id="finish" />
	
</flow>